"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5964],{6667:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>p,frontMatter:()=>d,metadata:()=>c,toc:()=>h});var i=s(4848),a=s(8453);const d={},t="Real-Time Shadows 2",c={id:"GAMES202/04/04",title:"Real-Time Shadows 2",description:"More on PCF and PCSS",source:"@site/docs/GAMES202/04/04.md",sourceDirName:"GAMES202/04",slug:"/GAMES202/04/",permalink:"/docs/GAMES202/04/",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/GAMES202/04/04.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Real-Time Shadows 1",permalink:"/docs/GAMES202/03/"},next:{title:"Real-Time Environment Mapping",permalink:"/docs/GAMES202/05/"}},r={},h=[{value:"More on PCF and PCSS",id:"more-on-pcf-and-pcss",level:2},{value:"Variance Soft Shadow Mapping\uff08VCSS\uff09",id:"variance-soft-shadow-mappingvcss",level:2},{value:"MIPMAP and Summed-Area Table(SAT)",id:"mipmap-and-summed-area-tablesat",level:2},{value:"Moment shadow mapping",id:"moment-shadow-mapping",level:2}];function l(e){const n={em:"em",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"real-time-shadows-2",children:"Real-Time Shadows 2"}),"\n",(0,i.jsx)(n.h2,{id:"more-on-pcf-and-pcss",children:"More on PCF and PCSS"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319151828641",src:s(5236).A+"",width:"1122",height:"744"})}),"\n",(0,i.jsx)(n.p,{children:"CHI\uff1a\u9636\u8dc3\u51fd\u6570\uff0c\u5927\u4e8e0\u4e3a1\uff0c\u5c0f\u4e8e0\u4e3a0\uff0c\u5f97\u5230[0, 1]\u7684Visibility"}),"\n",(0,i.jsx)(n.p,{children:"\u4e0d\u662f\u5bf9shadow map\u6ee4\u6ce2\uff0c\u4e5f\u4e0d\u662f\u5bf9\u56fe\u50cf\u6ee4\u6ce2\uff0c\u800c\u662f\u5bf9shadow map\u4e0a\u4e00\u5b9a\u8303\u56f4\u5185\u76f8\u5bf9\u8ddd\u79bb\u53d6\uff08\u52a0\u6743\uff09\u5e73\u5747\u5f97\u5230Visibility\uff0c\u7528\u5230\u6e32\u67d3\u65b9\u7a0b\u4e2d\u5f62\u6210\u8f6f\u9634\u5f71\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319152207579",src:s(8928).A+"",width:"1102",height:"755"})}),"\n",(0,i.jsx)(n.p,{children:"PCSS\u7684\u7b2c\u4e00\u6b65(\u53d6\u8303\u56f4\u5185blocker\u5e73\u5747\u6df1\u5ea6)\u548c\u7b2c\u4e09\u6b65(\u53d6\u8303\u56f4\u5185Visibility)\u4f1a\u6709\u5927\u5f00\u9500"}),"\n",(0,i.jsx)(n.h2,{id:"variance-soft-shadow-mappingvcss",children:"Variance Soft Shadow Mapping\uff08VCSS\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u662f\u5bf9PCSS\u7684\u6027\u80fd\u4f18\u5316"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u5bf9\u7b2c\u4e09\u6b65\u7684\u4f18\u5316"})}),"\n",(0,i.jsx)(n.p,{children:"\u6c42Visibility\u662f\u6c42shadow map\u4e00\u5b9a\u8303\u56f4\u5185\u6709\u767e\u5206\u4e4b\u591a\u5c11\u7684texel\u8ddd\u79bb\u66f4\u8fd1\uff0c\u9700\u8981\u91c7\u6837\u8303\u56f4\u5185\u6240\u6709texel\u624d\u80fd\u6c42\u51fa\uff0c\u91c7\u6837\u8fd8\u4f1a\u9020\u6210noise\uff0c\u53ef\u4ee5\u7528\u8303\u56f4\u67e5\u8be2\u66ff\u4ee3\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Temporal denoising\u5e94\u7528\u540e\u91c7\u6837\u9020\u6210\u7684noise\u53ef\u4ee5\u4f18\u5316\u6389\uff0c\u73b0\u5728\u8fd8\u662fPCSS\u7528\u5f97\u66f4\u591a\u3002"})})}),"\n",(0,i.jsx)(n.p,{children:"**\u5047\u8bbe\uff1a**\u8303\u56f4\u5185\u7684texel\u7684\u6df1\u5ea6\u4e3a\u6b63\u6001\u5206\u5e03"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u77e5\u9053Mean\u548cVariance\u5c31\u80fd\u5f88\u5feb\u5f97\u5230\u767e\u5206\u6bd4"}),"\n",(0,i.jsx)(n.p,{children:"Var(X) = E(X^2) - E^2(X) => \u9664\u4e86\u6df1\u5ea6\u7684map\u8fd8\u8981\u53e6\u5916\u4fdd\u5b58\u4e00\u4e2a\u6df1\u5ea6\u5e73\u65b9\u7684map"}),"\n",(0,i.jsx)(n.p,{children:"Mean\uff1a\u7528MIPMAP\u6216SAT"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319153154389",src:s(2679).A+"",width:"778",height:"375"})}),"\n",(0,i.jsx)(n.p,{children:"\u77e5\u9053\u5206\u5e03\u540e\u600e\u4e48\u6c42\u767e\u5206\u6bd4\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u8868\uff1a\u5b58\u50a8\u8f83\u5927\uff0c\u4e0d\u91c7\u7528"}),"\n",(0,i.jsx)(n.p,{children:"\u5207\u6bd4\u96ea\u592b\u4e0d\u7b49\u5f0f\u8fd1\u4f3c\uff1a"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319153353383",src:s(4154).A+"",width:"1034",height:"611"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"\u5207\u6bd4\u96ea\u592b\u5e76\u6ca1\u6709\u5047\u8bbe\u6b63\u6001\u5206\u5e03\uff0c\u8fd1\u4f3c\u5728Mean\u7684\u53f3\u534a\u8fb9\u624d\u51c6\u786e\uff0c\u4f46\u662f\u5e94\u7528\u6548\u679c\u53ef\u4ee5\u63a5\u53d7"})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u5bf9\u7b2c\u4e00\u6b65\u7684\u4f18\u5316"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319153738826",src:s(7929).A+"",width:"987",height:"526"})}),"\n",(0,i.jsx)(n.p,{children:"**\u5047\u8bbe\uff1a**\u672a\u906e\u6321\u7684\u90e8\u5206\u6df1\u5ea6\u4e0e\u5f53\u524dshading point\u4e00\u81f4"}),"\n",(0,i.jsx)(n.p,{children:"\u6bd4\u4f8b\u7528Chebychev\u8fd1\u4f3c\uff0c\u901a\u8fc7Z_avg, Z_unocc\u5f97\u5230Z_occ"}),"\n",(0,i.jsx)(n.h2,{id:"mipmap-and-summed-area-tablesat",children:"MIPMAP and Summed-Area Table(SAT)"}),"\n",(0,i.jsx)(n.p,{children:"\u5728VSSM\u4e2d\u89e3\u51b3\u5feb\u901f\u6c42Mean\u7684\u95ee\u9898"}),"\n",(0,i.jsx)(n.p,{children:"MIPMAP\u53ea\u80fd\u7528\u4e8e\u6b63\u65b9\u5f62\uff0cSAT\u9002\u7528\u4e0e\u77e9\u5f62"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319154241582",src:s(313).A+"",width:"1054",height:"573"})}),"\n",(0,i.jsx)(n.p,{children:"SAT\u8d77\u6e90\u4e8e\u8303\u56f4\u67e5\u8be2\uff1a"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319154318305",src:s(9154).A+"",width:"1083",height:"681"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319154333697",src:s(8985).A+"",width:"1170",height:"712"})}),"\n",(0,i.jsx)(n.h2,{id:"moment-shadow-mapping",children:"Moment shadow mapping"}),"\n",(0,i.jsx)(n.p,{children:"VSSM\u7684\u7f3a\u70b9\uff1a\u5047\u8bbe\u4e0d\u6210\u7acb\u65f6\u6548\u679c\u4e0d\u597d\uff0c\u771f\u5b9e\u5206\u5e03\u4e0e\u6b63\u6001\u5206\u5e03\u622a\u7136\u4e0d\u540c\uff0c\u9020\u6210\u672c\u8be5\u4ea7\u751f\u9634\u5f71\u7684\u5730\u65b9\u51fa\u73b0light leaking"}),"\n",(0,i.jsx)(n.p,{children:"Moment Shadow Mapping\u4f7f\u7528\u66f4\u9ad8\u9636\u7684\u77e9(moments)\u6765\u8868\u793a\u5206\u5e03\uff0c\u66f4\u597d\u5730\u62df\u5408\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319154642368",src:s(2145).A+"",width:"1068",height:"574"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319154703625",src:s(4797).A+"",width:"1068",height:"707"})}),"\n",(0,i.jsx)(n.h1,{id:"distance-field-soft-shadows",children:"Distance field soft shadows"}),"\n",(0,i.jsx)(n.p,{children:"SDF\u4e3a\u7a7a\u95f4\u4e2d\u6bcf\u4e2a\u70b9\u79bb\u6700\u8fd1\u7684\u7269\u4f53\u7684\u8ddd\u79bb\uff0c\u5728\u51e0\u4f55\u4f53\u7684\u878d\u5408\u4e0a\u5f88\u81ea\u7136"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Usage 1\uff1aRay marching"}),"\n",(0,i.jsx)(n.p,{children:"\u4ece\u4e00\u70b9\u51fa\u53d1\uff0c\u6839\u636eSDF\u5f97\u5230\u5b89\u5168\u8ddd\u79bb(\u6ca1\u6709\u969c\u788d\u7269)\uff0c\u53ef\u4ee5\u5feb\u901f\u79fb\u52a8"}),"\n",(0,i.jsx)(n.p,{children:"\uff08\u8d34\u5899\u4f1a\u6bd4\u8f83\u6162\uff1f\uff09"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319162413715",src:s(7126).A+"",width:"476",height:"364"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Usage 2\uff1a Soft Shadow"}),"\n",(0,i.jsx)(n.p,{children:"\u5728marching\u7684\u540c\u65f6\uff0c\u8bb0\u5f55\u6700\u5c0f\u7684\u89d2\u5ea6\uff0c\u6839\u636e\u89d2\u5ea6\u5f97\u5230\u906e\u6321\u7684\u767e\u5206\u6bd4"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319162619274",src:s(900).A+"",width:"993",height:"576"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240319162717927",src:s(6034).A+"",width:"1053",height:"597"})}),"\n",(0,i.jsx)(n.p,{children:"Pros\uff1a\u5feb\uff0c\u8d28\u91cf\u9ad8"}),"\n",(0,i.jsx)(n.p,{children:"Cons\uff1a\u9700\u8981\u9884\u8ba1\u7b97SDF\uff0c\u5b58\u50a8SDF"}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},5236:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319151828641-e4810818e5bf6644e9aff709e791c6e1.png"},8928:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319152207579-0d868c0c4418b724f999d6594fb24d24.png"},2679:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319153154389-8fcf8cd6476da54ee267db91a09f3c28.png"},4154:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319153353383-910ab56730e0f8c83e8f01e7d8dc5cd9.png"},7929:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319153738826-7615e3018b56db360c6b3e83de3cb1e9.png"},313:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319154241582-e6a4b9b363b72e87ffb19fb85d9e93f5.png"},9154:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319154318305-ddc823b3400b6f487599c6067b933e15.png"},8985:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319154333697-c4e9cd6466819c627e061dc7d06a3370.png"},2145:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319154642368-564a8577bc9e7769b5cf2cb16bd70ed6.png"},4797:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319154703625-9eabb51a08172bcbd2f9aa1203bae592.png"},7126:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319162413715-edf99f4526000968c7d8d328f2558101.png"},900:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319162619274-6be60c839ecc4b3f34032eb9639d69cd.png"},6034:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-20240319162717927-59a201ef5a7d312cb430024eed0b4bd7.png"},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>c});var i=s(6540);const a={},d=i.createContext(a);function t(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);